<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.misc.min.js"></script>
    <script src="https://unpkg.com/super-hands@^3.0.3/dist/super-hands.min.js"></script>
</head>
<body>
  
    <a-scene cursor="rayOrigin: mouse" background="color: #ECECEC" obb-collider = "showColliders:true">
       <a-assets>
              <a-asset-item id = "Library" src = "Objects/mozilla_hubs_challenge_-_wizards_library/scene.gltf" > </a-asset-item >
              <a-asset-item id = "Dungeon" src = "Objects/dungeon_test_trim_sheet/scene.gltf" > </a-asset-item >
              <a-asset-item id = "Book" src = "Objects/ornate_book/scene.gltf" > </a-asset-item >
              <a-asset-item id = "Lectern" src = "Objects/lectern/scene.gltf" > </a-asset-item > 
              <img id="texture1" src="Textures/base.jpg">
              <img id="normal1" src="assets/normal.jpg">
              <img id="texture2" src="Textures/base_color.jpg">
              <img id="normal2" src="assets/normal_map.jpg">         
          </a-assets>
        <!-- camera & hand controls -->
       
        <a-entity id="camera-rig" position="0 0.5 0">
          <a-entity id="head" camera position="0 1.6 0" wasd-controls look-controls></a-entity>
          <a-entity id="lhand" hand-controls="color: #FFCCCC" magicleap-controls="hand: left; model: false"  oculus-touch-controls="model: false" windows-motion-controls="hand: left; model: false" visible="" teleport-controls>
          </a-entity>
          <a-entity id="rhand" hand-controls="hand: right; color: #FFCCCC" magicleap-controls="hand: right; model: false"  oculus-touch-controls="hand: right; model: false" windows-motion-controls="model: false" visible="">
          </a-entity>
        
        </a-entity>
      
        <a-entity id="scene1">
          <a-entity  gltf-model = "#Dungeon" scale="" position="-3.49802 0.78292 -4.43704"></a-entity>
          <a-sky src="Cielo_Estrellado.png"></a-sky>
          <a-box color="red" position="-24.08338 1.7 -1.38985" onclick="nextScene()" material="" geometry=""></a-box>
          <a-box src="#texture1" normal-map="#normal1" roughness="0.8" position="18.39123 2.75773 -3.16542" material="" geometry=""></a-box>
          <a-box id="cube2" src="#texture2" normal-map="#normal2" onclick="StartAnimation()" roughness="0.8" position="18.39123 2.28458 -1.00903" material="" geometry=""></a-box>
          <a-entity position="-24.290 2.656 -1.566" text__nextlevel="value: Activate the red cube bt pressing the right trigger to go to the next scene" scale="5 3.07 1.72" rotation="0 90 0"></a-entity>
          <a-entity  position="-1.856 2 -8.5" text__nextlevel="value: Use right joystick to move around the map" scale="5 3.07 1.72" rotation=""></a-entity>
        </a-entity>
    
        <a-entity id="scene2" visible="false">
          <a-entity  gltf-model = "#Library" scale="" position="-24.29 0 -2"> </a-entity>
            <a-sky src="Cielo_Estrellado.png"></a-sky>
            <a-entity  gltf-model = "#Book"  scale="0.001 0.001 0.001" position="-19.12115 1.53677 -2.52051" rotation="71.9 90 0">&gt;</a-entity>
            <a-entity gltf-model = "#Lectern" position="-19.18885 -0.02674 -2.47259" rotation="0 -90 0"></a-entity>
          </a-entity>
        </a-scene>
      
      function StartAnimation(){
        document.getElementById('cube2').setAttribute("animation", "property: rotation; to: 360 90 90; dur:4000; easing: easeInQuad; loop: true;elasticity:600");
      }
      function nextScene() {
        document.getElementById('scene1').setAttribute('visible', 'false')
        document.getElementById('scene2').setAttribute('visible', 'true')
      }
      </script>
      
</body>
</html>
